<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Number Lookup</title>
<link rel="stylesheet" href="/style.css">
</head>
<body>
  <main class="card">
    <h1>Number Lookup</h1>
    <p class="subtitle">Developed by Ramzan Ahsan</p>
    <input id="number" placeholder="+9230xxxxxxx" />
    <div>
      <button id="go">Lookup</button>
      <button id="clear">Clear</button>
    </div>
    <section id="result" style="display:none">
      <h2>Result</h2>
      <pre id="out"></pre>
    </section>
    <footer><a href="https://chat.whatsapp.com/LoafyPWMGOv88oElxdwOB8" target="_blank">Join WhatsApp Group</a></footer>
  </main>

<script>
const out = document.getElementById('out'), result = document.getElementById('result');
document.getElementById('go').addEventListener('click', async () => {
  const num = document.getElementById('number').value.trim();
  if (!num) { alert('Enter number'); return; }
  result.style.display = '';
  out.textContent='Loading...';
  try {
    const r = await fetch('/api/lookup?number=' + encodeURIComponent(num));
    const j = await r.json();
    out.textContent = JSON.stringify(j, null, 2);
  } catch (e) {
    out.textContent = 'Error: ' + e.message;
  }
});
document.getElementById('clear').addEventListener('click', ()=>{ document.getElementById('number').value=''; result.style.display='none';});
</script>
</body>
</html>
